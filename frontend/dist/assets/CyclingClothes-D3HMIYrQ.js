import{r,C as b,a as j,j as e}from"./index-Cg-pIFFT.js";import{P as f}from"./ProductsCarousel-C941Z2u0.js";import{F as y,a as C}from"./FeaturedProductReversed-VaxWPw6t.js";import{P as k}from"./ProductSection-gAkjoKNH.js";import"./pagination-ChAglbSL.js";const S=()=>{const[n,x]=r.useState([]),{refreshCartCount:h}=r.useContext(b),[c,o]=r.useState("");r.useEffect(()=>{j.get("https://hoodshop-project.onrender.com/products/cycling/clothes").then(t=>{x(t.data)}).catch(t=>{console.error("Chyba pri načítavaní cyklistického oblečenia:",t)})},[]);const s=async t=>{const m=localStorage.getItem("sessionId"),i=localStorage.getItem("token");try{const a=await fetch("https://hoodshop-project.onrender.com/api/cart",{method:"POST",headers:{"Content-Type":"application/json",...i?{Authorization:`Bearer ${i}`}:{},...!i&&m?{"x-session-id":m}:{}},body:JSON.stringify({productId:t.id,quantity:1})}),u=await a.json();a.ok?(o("Product added to cart!"),h(),setTimeout(()=>o(""),3e3)):(o("Failed to add to cart: "+(u.message||"Unknown error")),setTimeout(()=>o(""),3e3))}catch(a){console.error("Error adding to cart:",a),o("Error adding to cart"),setTimeout(()=>o(""),3e3)}},p=n.map(t=>({id:t.id,name:t.name,brand:t.brand,price:t.price,image:t.image})),d=n.filter(t=>t.highlight_title&&t.description),l=d[0],g=d[1];return e.jsxs("div",{children:[e.jsxs("section",{className:"relative text-center py-10 px-4 bg-gradient-to-br from-orange-400 via-black to-orange-400 text-white overflow-hidden border-b-4 border-black",children:[e.jsx("div",{className:"absolute inset-0 bg-[url('/img/cycling-bg.jpg')] bg-cover bg-center opacity-20"}),e.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto",children:[e.jsxs("h1",{className:"text-xl md:text-2xl lg:text-3xl xl:text-4xl font-bold mb-4 tracking-wide drop-shadow-md",children:["Premium ",e.jsx("span",{className:"text-blue-200",children:"Cycling Clothes"})," for Every Ride"]}),e.jsxs("p",{className:"text-md md:text-lg lg:text-xl text-gray-100 leading-relaxed",children:["Discover our performance cycling wear, designed to keep you"," ",e.jsx("span",{className:"text-blue-200 font-medium",children:"cool"}),","," ",e.jsx("span",{className:"text-blue-200 font-medium",children:"dry"}),", and"," ",e.jsx("span",{className:"text-blue-200 font-medium",children:"fast"})," on the road or trail, even during long, intense rides."]})]})]}),l&&e.jsx(y,{product:l,handleAddToCart:s,backgroundImage:"/img/bg-cycling4.jpg"}),e.jsx("div",{className:"py-10 bg-black",children:e.jsx(f,{slides:p,handleAddToCart:s})}),g&&e.jsx(C,{product:g,handleAddToCart:s,backgroundImage:"/img/bg-cycling4.jpg"}),e.jsx(k,{title:"Best Cycling Clothes",backgroundImage:"/img/bg-cycling3.jpg",products:n,onAddToCart:s}),c&&e.jsx("div",{className:"fixed top-16 right-6 bg-black text-green-400 px-6 py-3 rounded-lg shadow-lg z-50 text-lg font-semibold",children:c})]})};export{S as default};
