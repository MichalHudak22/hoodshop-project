import{j as e,L as y,r as i,a as p,C as v}from"./index-Cg-pIFFT.js";import{P as w}from"./ProductsCarousel-C941Z2u0.js";import"./pagination-ChAglbSL.js";const N=()=>e.jsx("section",{className:"py-12",style:{backgroundImage:"url(/img/bg-cycling4.jpg)",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundAttachment:"fixed"},children:e.jsxs("div",{className:"mx-auto px-4 lg:px-5 xl:px-8 py-6 bg-black bg-opacity-50 lg:border-[7px] lg:border-black rounded-lg max-w-5xl xl:max-w-[80%]",children:[e.jsx("h2",{className:"text-xl lg:text-3xl font-bold mb-8 text-center text-white",children:"Explore Football Categories"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-x-12 gap-y-12",children:[{to:"clothes",bg:"/img/bg-cyclingclothes.jpg",label:"Clothes"},{to:"bike",bg:"/img/bg-cyclingbikes.jpg",label:"Bikes"},{to:"helmets",bg:"/img/bg-cyclinghelmets.jpg",label:"Helmets"},{to:"gloves",bg:"/img/bg-cyclinggloves.jpg",label:"Gloves"}].map(({to:l,bg:h,label:c})=>e.jsxs(y,{to:l,className:"relative flex flex-col justify-start h-[300px] text-white text-xl font-semibold rounded-lg shadow-md overflow-hidden group hover:brightness-125 transition",children:[e.jsx("div",{className:"absolute inset-0 bg-center bg-cover transition-transform duration-500 group-hover:scale-110",style:{backgroundImage:`url(${h})`}}),e.jsx("div",{className:"absolute inset-0 bg-black opacity-10 rounded-lg"}),e.jsx("span",{className:"relative z-10 bg-gray-200 text-black px-4 py-2 rounded-b-none rounded-t-lg w-full text-center text-2xl",children:c})]},l))})]})}),C=()=>{const[l,h]=i.useState([]),[c,d]=i.useState([]),[o,x]=i.useState([]),[b,g]=i.useState("");i.useEffect(()=>{g(""),p.get("https://hoodshop-project.onrender.com/products/cycling/bike").then(t=>{const s=t.data.filter(r=>r.highlight_title&&r.description);h(s.slice(0,2))}).catch(()=>{g("Nepodarilo sa načítať cycling bikes.")}),p.get("https://hoodshop-project.onrender.com/products/cycling/clothes").then(t=>{const s=t.data.filter(r=>r.highlight_title&&r.description);d(s.slice(0,2))}).catch(()=>{g("Nepodarilo sa načítať cycling clothes.")}),p.get("https://hoodshop-project.onrender.com/products/cycling/helmets").then(t=>{const s=t.data.filter(r=>r.highlight_title&&r.description);x(s.slice(0,2))}).catch(()=>{g("Nepodarilo sa načítať cycling helmets.")})},[]);const n=[];for(let t=0;t<2;t++)c[t]&&n.push({name:"Santini",product:c[t],defaultBg:"/img/cycling-clothes.jpg"}),o[t]&&n.push({name:"Kask",product:o[t],defaultBg:"/img/cycling-helmets.jpg"}),l[t]&&n.push({name:"Specialized",product:l[t],defaultBg:"/img/cycling-bikes.jpg"});return e.jsx("section",{style:{backgroundImage:"url(/img/bg-cycling3.jpg)",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundAttachment:"fixed"},className:"py-12 w-full",children:e.jsxs("div",{className:"xl:w-[80%] 2xl:w-[65%] m-auto xl:bg-black xl:bg-opacity-50 xl:border-[7px] xl:border-black xl:pb-8 xl:rounded-xl",children:[e.jsx("h2",{className:"text-xl md:text-2xl lg:text-3xl text-white bg-black xl:bg-transparent py-4 font-bold text-center mb-5",children:"Discover More You May Enjoy"}),e.jsx("div",{className:"w-full xl:w-[90%] 2xl:max-w-[90%] mx-auto px-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 items-stretch",children:n.map(({name:t,product:s,defaultBg:r},a)=>e.jsxs(y,{to:`/product/${(s==null?void 0:s.slug)||""}`,className:"flex flex-col h-full bg-white rounded-lg overflow-hidden shadow-lg hover:brightness-125 transition",children:[e.jsx("h3",{className:"py-4 px-3 text-md md:min-h-[80px] font-bold bg-black text-white text-center",children:(s==null?void 0:s.highlight_title)||`${t} Featured Product`}),e.jsxs("div",{className:"relative h-64 overflow-hidden shadow-lg group",children:[e.jsx("img",{src:s?`https://hoodshop-project.onrender.com
${s.image}`:r,alt:(s==null?void 0:s.highlight_title)||`${t} default`,className:"w-full h-full object-contain transform transition-transform duration-500 group-hover:scale-110"}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-10"})]}),e.jsx("div",{className:"bg-black bg-opacity-90 text-white text-sm p-4 flex-1",children:(s==null?void 0:s.description)||`Explore top products from ${t}.`})]},`${t}-${a}`))})]})})},j=l=>{const h=/\[color=(#[0-9a-fA-F]{6}|[a-zA-Z]+)\](.*?)\[\/color\]/g,c=[];let d=0,o;for(;(o=h.exec(l))!==null;){const[x,b,g]=o,n=o.index;n>d&&c.push(l.slice(d,n)),c.push(e.jsx("span",{style:{color:b},children:g},n)),d=n+x.length}return d<l.length&&c.push(l.slice(d)),c},P=()=>{const[l,h]=i.useState([]),{refreshCartCount:c}=i.useContext(v),[d,o]=i.useState(""),[x,b]=i.useState(""),[g,n]=i.useState(""),t="cycling-home-header";i.useEffect(()=>{p.get("https://hoodshop-project.onrender.com/products/cycling/carousel").then(a=>h(a.data)).catch(a=>console.error("Chyba pri načítavaní carousel produktov:",a))},[]),i.useEffect(()=>{p.get(`https://hoodshop-project.onrender.com/api/config/section/${t}`).then(a=>{const m=a.data||{};b(m.title||""),n(m.paragraph||"")}).catch(a=>{console.error("Chyba pri načítaní textu sekcie:",a)})},[t]);const s=async a=>{const m=localStorage.getItem("sessionId"),f=localStorage.getItem("token");try{const u=await fetch("https://hoodshop-project.onrender.com/api/cart",{method:"POST",headers:{"Content-Type":"application/json",...f?{Authorization:`Bearer ${f}`}:{},...!f&&m?{"x-session-id":m}:{}},body:JSON.stringify({productId:a.id,quantity:1})}),k=await u.json();u.ok?(o("Product added to cart!"),c(),setTimeout(()=>o(""),3e3)):(o("Failed to add to cart: "+(k.message||"Unknown error")),setTimeout(()=>o(""),3e3))}catch(u){console.error("Error adding to cart:",u),o("Error adding to cart"),setTimeout(()=>o(""),3e3)}},r=l.map(a=>({id:a.id,name:a.name,brand:a.brand,price:a.price,image:a.image}));return e.jsxs("div",{children:[e.jsxs("section",{className:"relative text-center py-10 px-4 bg-gradient-to-br from-orange-400 via-black to-orange-400 text-white overflow-hidden border-b-4 border-black",children:[e.jsx("div",{className:"absolute inset-0 bg-[url('/img/cycling-bg.jpg')] bg-cover bg-center opacity-20"}),e.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto",children:[e.jsx("h1",{className:"text-xl md:text-3xl lg:text-4xl font-bold mb-4 tracking-wide drop-shadow-md",children:j(x)}),e.jsx("p",{className:"text-md md:text-xl lg:text-2xl leading-relaxed drop-shadow-sm max-w-4xl mx-auto",children:j(g)})]})]}),e.jsx(N,{}),e.jsx("div",{className:"py-10 bg-black",children:e.jsx(w,{slides:r,handleAddToCart:s})}),e.jsx(C,{}),d&&e.jsx("div",{className:"fixed top-16 right-6 bg-black text-green-400 px-6 py-3 rounded-lg shadow-lg z-50 text-lg font-semibold",children:d})]})};export{P as default};
