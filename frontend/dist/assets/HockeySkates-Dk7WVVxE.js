import{r,C as b,a as k,j as e}from"./index-C-hwXzSE.js";import{P as f}from"./ProductsCarousel-BCx4eImW.js";import{P as j}from"./ProductSection-D6ovULBj.js";import{F as y,a as v}from"./FeaturedProductReversed-vMGExy4F.js";import"./pagination-B-wBfeim.js";const P=()=>{const[c,x]=r.useState([]),{refreshCartCount:h}=r.useContext(b),[i,s]=r.useState("");r.useEffect(()=>{k.get("http://localhost:3001/products/hockey/skates").then(t=>x(t.data)).catch(t=>console.error("Chyba pri načítavaní hokejových korčúľ:",t))},[]);const a=async t=>{const g=localStorage.getItem("sessionId"),d=localStorage.getItem("token");try{const o=await fetch("http://localhost:3001/api/cart",{method:"POST",headers:{"Content-Type":"application/json",...d&&{Authorization:`Bearer ${d}`},...!d&&g&&{"x-session-id":g}},body:JSON.stringify({productId:t.id,quantity:1})}),u=await o.json();o.ok?(s("Product added to cart!"),h(),setTimeout(()=>s(""),3e3)):(s("Failed to add to cart: "+u.message),setTimeout(()=>s(""),3e3))}catch(o){console.error("Error adding to cart:",o),s("Error adding to cart"),setTimeout(()=>s(""),3e3)}},p=c.map(t=>({id:t.id,name:t.name,brand:t.brand,price:t.price,image:`http://localhost:3001${t.image}`})),n=c.filter(t=>t.highlight_title&&t.description),l=n[0],m=n[1];return e.jsxs("div",{children:[e.jsxs("section",{className:"relative text-center py-10 px-4 bg-gradient-to-br from-blue-600 via-black to-blue-900 text-white overflow-hidden border-b-4 border-black",children:[e.jsx("div",{className:"absolute inset-0 bg-[url('/img/football-bg.jpg')] bg-cover bg-center opacity-20"}),e.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto",children:[e.jsxs("h1",{className:"text-xl md:text-2xl lg:text-3xl xl:text-4xl font-bold mb-4 tracking-wide drop-shadow-md",children:["Find the Fastest ",e.jsx("span",{className:"text-blue-200",children:"Hockey Skates"})]}),e.jsxs("p",{className:"text-md md:text-lg lg:text-xl text-gray-100 leading-relaxed",children:["Explore top-tier hockey skates designed for"," ",e.jsx("span",{className:"text-blue-200 font-medium",children:"performance"}),","," ",e.jsx("span",{className:"text-blue-200 font-medium",children:"comfort"}),", and"," ",e.jsx("span",{className:"text-blue-200 font-medium",children:"speed"})," on the ice."]})]})]}),l&&e.jsx(y,{product:l,handleAddToCart:a,backgroundImage:"/img/bg-hockey4.jpg"}),e.jsx("div",{className:"py-10 bg-black",children:e.jsx(f,{slides:p,handleAddToCart:a})}),m&&e.jsx(v,{product:m,handleAddToCart:a,backgroundImage:"/img/bg-hockey4.jpg"}),e.jsx(j,{title:"Discover All Skates",backgroundImage:"/img/bg-hockey2.jpg",products:c,onAddToCart:a}),i&&e.jsx("div",{className:"fixed top-16 right-6 bg-black text-green-400 px-6 py-3 rounded-lg shadow-lg z-50 text-lg font-semibold",children:i})]})};export{P as default};
