import{j as t,L as y,r as l,a as p,C as v}from"./index-A0Sm30pc.js";import{P as w}from"./ProductsCarousel-D90z2Nur.js";import"./pagination-4PPgUuIB.js";const N=()=>t.jsx("section",{className:"py-12",style:{backgroundImage:"url(/img/bg-hockey2.jpg)",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundAttachment:"fixed"},children:t.jsxs("div",{className:"mx-auto px-4 lg:px-5 xl:px-8 py-6 bg-black bg-opacity-50 lg:border-[7px] lg:border-black rounded-lg max-w-5xl xl:max-w-[80%]",children:[t.jsx("h2",{className:"text-xl lg:text-3xl font-bold mb-8 text-center text-white",children:"Explore Hockey Categories"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-x-12 gap-y-12",children:[{to:"jersey",bg:"/img/bg-hockeyjerseys.jpg",label:"Jerseys"},{to:"sticks",bg:"/img/bg-hockeysticks.jpg",label:"Sticks"},{to:"skates",bg:"/img/bg-hockeyskates.jpg",label:"Skates"},{to:"helmets",bg:"/img/bg-hockeyhelmets.jpg",label:"Helmets"}].map(({to:r,bg:h,label:i})=>t.jsxs(y,{to:r,className:"relative flex flex-col justify-start h-[300px] text-white text-xl font-semibold rounded-lg shadow-md overflow-hidden group hover:brightness-125 transition",children:[t.jsx("div",{className:"absolute inset-0 bg-center bg-cover transition-transform duration-500 group-hover:scale-110",style:{backgroundImage:`url(${h})`}}),t.jsx("div",{className:"absolute inset-0 bg-black opacity-10 rounded-lg"}),t.jsx("span",{className:"relative z-10 bg-gray-200 text-black px-4 py-2 rounded-b-none rounded-t-lg w-full text-center text-2xl",children:i})]},r))})]})}),S=()=>{const[r,h]=l.useState([]),[i,c]=l.useState([]),[o,m]=l.useState([]),[x,b]=l.useState([]),[n,d]=l.useState("");l.useEffect(()=>{d(""),p.get("${import.meta.env.VITE_API_BASE_URL}
/products/hockey/jersey").then(s=>{const e=s.data.filter(a=>a.highlight_title&&a.description);c(e.slice(0,2))}).catch(()=>{d("Nepodarilo sa načítať hockey jerseys.")}),p.get("${import.meta.env.VITE_API_BASE_URL}
/products/hockey/skates").then(s=>{const e=s.data.filter(a=>a.highlight_title&&a.description);m(e.slice(0,2))}).catch(()=>{d("Nepodarilo sa načítať hockey skates.")}),p.get("${import.meta.env.VITE_API_BASE_URL}
/products/hockey/helmets").then(s=>{const e=s.data.filter(a=>a.highlight_title&&a.description);b(e.slice(0,2))}).catch(()=>{d("Nepodarilo sa načítať hockey helmets.")})},[]);const g=[];for(let s=0;s<2;s++)i[s]&&g.push({name:"Bauer",product:i[s],defaultBg:"/img/bauer-jersey.jpg"}),r[s]&&g.push({name:"CCM",product:r[s],defaultBg:"/img/ccm-stick.jpg"}),o[s]&&g.push({name:"Reebok",product:o[s],defaultBg:"/img/reebok-skates.jpg"}),x[s]&&g.push({name:"Warrior",product:x[s],defaultBg:"/img/warrior-helmet.jpg"});return t.jsx("section",{style:{backgroundImage:"url(/img/bg-hockey2.jpg)",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundAttachment:"fixed"},className:"py-12 w-full",children:t.jsxs("div",{className:"xl:w-[80%] 2xl:w-[65%] m-auto xl:bg-black xl:bg-opacity-50 xl:border-[7px] xl:border-black xl:pb-8 xl:rounded-xl",children:[t.jsx("h2",{className:"text-xl md:text-2xl lg:text-3xl text-white bg-black xl:bg-transparent py-4 font-bold text-center mb-5",children:"Discover More You May Enjoy"}),t.jsx("div",{className:"w-full xl:w-[90%] 2xl:max-w-[90%] mx-auto px-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 items-stretch",children:g.map(({name:s,product:e,defaultBg:a},u)=>t.jsxs(y,{to:`/product/${(e==null?void 0:e.slug)||""}`,className:"flex flex-col h-full bg-white rounded-lg overflow-hidden shadow-lg hover:brightness-125 transition",children:[t.jsx("h3",{className:"py-4 px-3 text-md md:min-h-[80px] font-bold bg-black text-white text-center",children:(e==null?void 0:e.highlight_title)||`${s} Featured Product`}),t.jsxs("div",{className:"relative h-64 overflow-hidden shadow-lg group",children:[t.jsx("img",{src:e?`${import.meta.env.VITE_API_BASE_URL}
${e.image}`:a,alt:(e==null?void 0:e.highlight_title)||`${s} default`,className:"w-full h-full object-contain transform transition-transform duration-500 group-hover:scale-110"}),t.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-10"})]}),t.jsx("div",{className:"bg-black bg-opacity-90 text-white text-sm p-4 flex-1",children:(e==null?void 0:e.description)||`Explore top products from ${s}.`})]},`${s}-${u}`))})]})})},f=r=>{const h=/\[color=(#[0-9a-fA-F]{6}|[a-zA-Z]+)\](.*?)\[\/color\]/g,i=[];let c=0,o;for(;(o=h.exec(r))!==null;){const[m,x,b]=o,n=o.index;n>c&&i.push(r.slice(c,n)),i.push(t.jsx("span",{style:{color:x},children:b},n)),c=n+m.length}return c<r.length&&i.push(r.slice(c)),i},I=()=>{const[r,h]=l.useState([]),{refreshCartCount:i}=l.useContext(v),[c,o]=l.useState(""),[m,x]=l.useState(""),[b,n]=l.useState(""),d="hockey-home-header";l.useEffect(()=>{p.get("${import.meta.env.VITE_API_BASE_URL}
/products/hockey/carousel").then(e=>{h(e.data)}).catch(e=>{console.error("Chyba pri načítavaní carousel produktov:",e)})},[]),l.useEffect(()=>{p.get(`${import.meta.env.VITE_API_BASE_URL}
/api/config/section/${d}`).then(e=>{const a=e.data||{};x(a.title||""),n(a.paragraph||"")}).catch(e=>{console.error("Chyba pri načítaní textu sekcie:",e)})},[d]);const g=async e=>{const a=localStorage.getItem("sessionId"),u=localStorage.getItem("token");try{const k=await fetch("${import.meta.env.VITE_API_BASE_URL}
/api/cart",{method:"POST",headers:{"Content-Type":"application/json",...u&&{Authorization:`Bearer ${u}`},...!u&&a&&{"x-session-id":a}},body:JSON.stringify({productId:e.id,quantity:1})}),j=await k.json();k.ok?(o("Product added to cart!"),i(),setTimeout(()=>o(""),3e3)):(o("Failed to add to cart: "+j.message),setTimeout(()=>o(""),3e3))}catch(k){console.error("Error adding to cart:",k),o("Error adding to cart"),setTimeout(()=>o(""),3e3)}},s=r.map(e=>({id:e.id,name:e.name,brand:e.brand,price:e.price,image:e.image}));return t.jsxs("div",{children:[t.jsxs("section",{className:"relative text-center py-10 px-4 bg-gradient-to-br from-blue-600 via-black to-blue-900 text-white overflow-hidden border-b-4 border-black",children:[t.jsx("div",{className:"absolute inset-0 bg-[url('/img/hockey-bg.jpg')] bg-cover bg-center opacity-20"}),t.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto",children:[t.jsx("h1",{className:"text-xl md:text-3xl lg:text-4xl font-bold mb-4 tracking-wide drop-shadow-md",children:f(m)}),t.jsx("p",{className:"text-md md:text-xl lg:text-2xl leading-relaxed drop-shadow-sm",children:f(b)})]})]}),t.jsx(N,{}),t.jsx("div",{className:"py-10 bg-black",children:t.jsx(w,{slides:s,handleAddToCart:g})}),t.jsx(S,{}),c&&t.jsx("div",{className:"fixed top-16 right-6 bg-black text-green-400 px-6 py-3 rounded-lg shadow-lg z-50 text-lg font-semibold",children:c})]})};export{I as default};
