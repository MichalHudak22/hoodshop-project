import{r as a,b as h,C as f,j as e,L as l,a as g}from"./index-C-hwXzSE.js";const j=()=>{const[t,x]=a.useState(null),[m,u]=a.useState(!0),[d,r]=a.useState(""),{slug:c}=h(),{refreshCartCount:b}=a.useContext(f),n="http://localhost:3001";a.useEffect(()=>{(async()=>{try{const s=await g.get(`${n}/products/${c}`);x(s.data)}catch(s){console.error("Product not found",s)}finally{u(!1)}})()},[c,n]);const p=async()=>{try{const o=localStorage.getItem("token"),s=localStorage.getItem("session_id")||localStorage.getItem("sessionId"),i={};o?i.Authorization=`Bearer ${o}`:s&&(i["x-session-id"]=s),await g.post(`${n}/api/cart`,{productId:t.id,quantity:1},{headers:i}),b(),r("Produkt bol pridaný do košíka!"),setTimeout(()=>r(""),3e3)}catch(o){console.error("Nepodarilo sa pridať produkt do košíka:",o),r("Chyba pri pridávaní do košíka."),setTimeout(()=>r(""),3e3)}};return m?e.jsx("p",{className:"p-6 text-center",children:"Loading..."}):t?e.jsxs("div",{className:"relative bg-cover bg-center py-16 min-h-screen",style:{backgroundImage:"url('/img/bg-sports.jpg')",backgroundAttachment:"fixed"},children:[e.jsx("div",{className:"absolute inset-0 bg-black opacity-60 z-0"}),e.jsx("div",{className:"relative z-10 p-6",children:e.jsxs("div",{className:"p-8 mt-12 max-w-4xl mx-auto bg-white bg-opacity-95 rounded-lg shadow-lg border-4 border-black",children:[e.jsx("h1",{className:"text-4xl font-extrabold mb-6 text-gray-900",children:t.name}),e.jsx(l,{to:`/brands/${t.brand.toLowerCase()}`,className:"inline-block bg-indigo-100 text-indigo-800 px-3 py-1 rounded-full text-lg font-semibold hover:bg-indigo-200 transition mb-3",children:t.brand}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[e.jsx("img",{src:`${n}${t.image}`,alt:t.name,className:"w-full md:w-1/2 max-h-[400px] object-contain rounded-lg border border-gray-300"}),e.jsxs("div",{className:"flex flex-col justify-between md:w-1/2",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs(l,{to:`/sports/${t.category.toLowerCase()}`,className:"inline-block bg-indigo-100 text-indigo-800 px-3 py-1 rounded-full text-sm font-semibold mr-2 hover:bg-indigo-200 transition",children:["Category: ",t.category]}),e.jsxs(l,{to:`/sports/${t.category.toLowerCase()}/${t.type.toLowerCase()}`,className:"inline-block bg-indigo-100 text-indigo-800 px-3 py-1 rounded-full text-sm font-semibold hover:bg-indigo-200 transition",children:["Type: ",t.type]})]}),e.jsxs("p",{className:"text-3xl font-bold text-green-700 mb-4",children:[t.price," €"]}),e.jsx("p",{className:"text-gray-700 leading-relaxed text-lg",children:t.description})]}),e.jsx("button",{onClick:p,className:"mt-8 w-full py-3 bg-blue-700 text-white font-semibold rounded-full hover:bg-blue-600 transition hover:scale-105 ease-in-out",children:"Add to Cart"})]})]})]})}),d&&e.jsx("div",{className:"fixed top-16 right-6 bg-black text-green-400 px-6 py-3 rounded-lg shadow-lg z-50 text-lg font-semibold",children:d})]}):e.jsx("p",{className:"p-6 text-center",children:"Product not found."})};export{j as default};
